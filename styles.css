/* =========================================================
   Williams Family Gallery — styles.css
   Palette: Blue • Black • Red
   Matches your current index.html structure exactly
   ========================================================= */

/* ===========================
   1) THEME VARIABLES
=========================== */
:root{
  --bg:#05060a;
  --blue:#2aa7ff;
  --red:#ff2d3a;
  --text:#e9eefc;
  --muted:rgba(233,238,252,.75);
  --stroke:rgba(255,255,255,.12);
  --panel:rgba(6,8,14,.62);
  --shadow:0 24px 120px rgba(0,0,0,.55);
}

/* ===========================
   2) BASE RESET
=========================== */
*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  background: var(--bg);
  color: var(--text);
  overflow-x:hidden;
}
img{ display:block; max-width:100%; }
button{ font-family:inherit; }

/* Optional background layers you already have in HTML */
.bg{
  position:fixed;
  inset:0;
  z-index:-3;
  background:
    radial-gradient(1100px 700px at 18% 12%, rgba(42,167,255,.16), transparent 60%),
    radial-gradient(1100px 700px at 82% 26%, rgba(255,45,58,.14), transparent 62%),
    linear-gradient(180deg, rgba(0,0,0,.55), rgba(0,0,0,.95));
}

.noise{
  position:fixed;
  inset:0;
  z-index:-2;
  opacity:.06;
  pointer-events:none;
  background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='120' height='120'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.8' numOctaves='2' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='120' height='120' filter='url(%23n)' opacity='.45'/%3E%3C/svg%3E");
  background-size:180px 180px;
}

/* ===========================
   3) SHARED BUTTONS
=========================== */
.btn{
  border:1px solid rgba(255,255,255,.14);
  background: rgba(10,14,24,.30);
  color: rgba(233,238,252,.92);
  padding: .62rem .95rem;
  border-radius: 999px;
  cursor:pointer;
  font-weight: 850;
  transition: transform .12s ease, box-shadow .12s ease, background .12s ease;
}
.btn:hover{
  transform: translateY(-1px);
  box-shadow: 0 18px 60px rgba(0,0,0,.35);
  background: rgba(255,255,255,.08);
}
.btn.primary{
  border:none;
  background: linear-gradient(135deg, rgba(42,167,255,.95), rgba(255,45,58,.85));
}

/* ===========================
   4) LANDING HEADER (FLASHY)
   Uses your PNG background at /assets/landing-bg.png
=========================== */
.landing{
  display:flex;
  justify-content:center;
  padding: 1.2rem 1rem 0.9rem;

  /* PNG background + readability overlay */
  background-image:
    linear-gradient(rgba(5,10,20,.70), rgba(5,10,20,.88)),
    url("/assets/landing-bg.webp");
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}

.landing-inner{
  width: min(980px, 100%);
  text-align:center;
  padding: 1.1rem 1.2rem 1.25rem;
  border-radius: 26px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(6, 8, 14, .55);
  box-shadow: var(--shadow);
  position:relative;
  overflow:hidden;
}

/* Badge */
.badge{
  display:inline-flex;
  align-items:center;
  gap:.55rem;
  padding:.35rem .75rem;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.05);
  font-size:.72rem;
  letter-spacing:.16em;
  opacity:.92;
}
.badge-dot{
  width:8px;height:8px;border-radius:50%;
}
.badge-dot.blue{ background: var(--blue); box-shadow: 0 0 18px rgba(42,167,255,.55); }
.badge-dot.red{ background: var(--red); box-shadow: 0 0 18px rgba(255,45,58,.45); }

/* Title */
.landing-title{
  margin: .75rem 0 .35rem;
  font-size: clamp(2rem, 5.5vw, 3.4rem);
  line-height: 1.02;
  font-weight: 950;
  letter-spacing: -0.02em;
  color: rgba(233,238,252,.96);
}
.landing-title .accent{
  background: linear-gradient(90deg, rgba(42,167,255,.95), rgba(255,255,255,.92), rgba(255,45,58,.88));
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}

.landing-sub{
  margin: 0 auto 1rem;
  max-width: 62ch;
  color: rgba(233,238,252,.76);
  line-height: 1.45;
}

.landing-actions{
  display:flex;
  justify-content:center;
  gap:.6rem;
  margin-bottom: .75rem;
}

.scroll-hint{
  font-size:.9rem;
  opacity:.75;
}

/* Police-style lightbar animation (tasteful) */
.lightbar{
  position:absolute;
  left: 50%;
  bottom: -18px;
  transform: translateX(-50%);
  width: min(720px, 92%);
  height: 56px;
  pointer-events:none;
}

.lightbar .glow{
  position:absolute;
  inset:0;
  background: radial-gradient(circle at 50% 40%, rgba(255,255,255,.10), rgba(0,0,0,0) 60%);
  opacity:.85;
}

.lightbar .beam{
  position:absolute;
  top: 14px;
  height: 10px;
  width: 40%;
  border-radius: 999px;
  opacity:0;
}

.lightbar .beam.blue{
  left: 6%;
  background: radial-gradient(circle at 30% 50%, rgba(42,167,255,.95), rgba(42,167,255,0) 70%);
  animation: blueFlash 1.35s infinite;
}
.lightbar .beam.red{
  right: 6%;
  background: radial-gradient(circle at 70% 50%, rgba(255,45,58,.92), rgba(255,45,58,0) 70%);
  animation: redFlash 1.35s infinite;
}

@keyframes blueFlash{
  0%{ opacity: 0; transform: translateX(-10px) scaleX(.95); }
  8%{ opacity: .95; }
  16%{ opacity: 0; }
  55%{ opacity: 0; }
  62%{ opacity: .85; transform: translateX(10px) scaleX(1.05); }
  70%{ opacity: 0; }
  100%{ opacity: 0; }
}
@keyframes redFlash{
  0%{ opacity: 0; }
  30%{ opacity: 0; }
  38%{ opacity: .9; transform: translateX(10px) scaleX(1.05); }
  46%{ opacity: 0; }
  78%{ opacity: 0; }
  86%{ opacity: .85; transform: translateX(-10px) scaleX(.95); }
  94%{ opacity: 0; }
  100%{ opacity: 0; }
}

/* ===========================
   5) MAIN GALLERY WRAPPER
=========================== */
.gallery-wrap{
  width: min(1100px, 92vw);
  margin: 0 auto;
  padding: .9rem 0 2.8rem;
}

/* ===========================
   6) SECTION TITLE ROW
=========================== */
.section-title{
  display: grid;
  grid-template-columns: 1fr auto auto;
  align-items: center;
  gap: 1rem;
  margin: .6rem 0 .75rem;
}

.section-title .hero{
  grid-column: 1 / 4;           /* hero spans full row */
  justify-content: center;
  margin: 0;
}

.section-title h2{
  grid-column: 2;               /* Featured on the right side */
  justify-self: end;
  margin: 0;
  font-size: 1.15rem;
  letter-spacing: .02em;
}

#count{
  grid-column: 3;               /* count on far right */
  justify-self: start;
  margin: 0;
  color: var(--muted);
  font-size: .95rem;
}

/* On small screens: stack neatly */
@media (max-width: 720px){
  .section-title{
    grid-template-columns: 1fr;
    text-align: center;
  }
  .section-title .hero{ grid-column: 1; }
  .section-title h2, #count{
    justify-self: center;
  }
}

/* ===========================
   7) ALBUM HERO (COMPACT, CENTERED)
=========================== */
.hero{
  width:100%;
  display:flex;
  justify-content:center;
  margin: 0 0 .75rem;
}

.hero-inner{
  width:100%;
  max-width: 980px;
  text-align:center;
  padding: .75rem .95rem;
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(6,8,14,.55);
  box-shadow: 0 16px 60px rgba(0,0,0,.38);
  position:relative;
  overflow:hidden;
}

.hero-kicker{
  font-weight: 900;
  letter-spacing: .22em;
  font-size: .68rem;
  opacity: .78;
}

.hero-title{
  margin: .35rem 0 .1rem;
  font-size: clamp(1.25rem, 2.8vw, 1.9rem);
  line-height: 1.05;
  font-weight: 950;
  background: linear-gradient(90deg, rgba(42,167,255,.95), rgba(255,255,255,.92), rgba(255,45,58,.85));
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}

.hero-sub{
  margin: 0;
  color: rgba(233,238,252,.78);
  font-size: .92rem;
  line-height: 1.35;
}

.hero-actions{
  margin-top: .45rem;
  display:flex;
  justify-content:center;
}

.hero-btn{
  border: 1px solid rgba(255,255,255,.14);
  background: rgba(10,14,24,.30);
  color: rgba(233,238,252,.92);
  padding: .45rem .7rem;
  border-radius: 999px;
  font-weight: 900;
  cursor:pointer;
}

.hero-glow{
  position:absolute;
  inset:-140px;
  background:
    radial-gradient(circle at 18% 28%, rgba(42,167,255,.25), rgba(0,0,0,0) 55%),
    radial-gradient(circle at 78% 52%, rgba(255,45,58,.16), rgba(0,0,0,0) 58%);
  filter: blur(10px);
  opacity: .7;
  pointer-events:none;
}
.hero-grid{
  position:absolute;
  inset:0;
  background-image:
    linear-gradient(to right, rgba(255,255,255,.06) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(255,255,255,.06) 1px, transparent 1px);
  background-size: 46px 46px;
  mask-image: radial-gradient(circle at 30% 25%, rgba(0,0,0,.8), rgba(0,0,0,0) 68%);
  opacity: .18;
  pointer-events:none;
}

/* ===========================
   8) ALBUM BAR
=========================== */
.album-bar{
  margin: .25rem 0 1rem;
  padding: .9rem;
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.03);
}

.album-title{
  font-weight: 900;
  letter-spacing: .08em;
  text-transform: uppercase;
  font-size: .72rem;
  opacity:.8;
  margin-bottom: .6rem;
}

.albums{
  display:flex;
  flex-wrap:wrap;
  gap:.55rem;
  justify-content:center;
}

.album-btn{
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.06);
  color: rgba(233,238,252,.90);
  padding: .52rem .82rem;
  border-radius: 999px;
  font-weight: 900;
  cursor:pointer;
  transition: transform .12s ease, background .12s ease, border-color .12s ease;
}

.album-btn:hover{
  transform: translateY(-1px);
  background: rgba(255,255,255,.09);
  border-color: rgba(42,167,255,.25);
}

.album-btn.active{
  border-color: rgba(42,167,255,.38);
  background: linear-gradient(135deg, rgba(42,167,255,.30), rgba(255,45,58,.22));
}

/* ===========================
   9) GRID
=========================== */
.grid{
  display:grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 1rem;
}

@media (max-width: 920px){
  .grid{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
}
@media (max-width: 560px){
  .grid{ grid-template-columns: 1fr; }
}

.card{
  padding:0;
  border:none;
  cursor:pointer;
  border-radius: 18px;
  overflow:hidden;
  position:relative;
  background: rgba(255,255,255,.03);
  border: 1px solid rgba(255,255,255,.10);
  box-shadow: 0 12px 40px rgba(0,0,0,.35);
  transition: transform .18s ease, border-color .18s ease;
}
.card:hover{
  transform: translateY(-2px);
  border-color: rgba(42,167,255,.25);
}

.card img{
  width:100%;
  height: 260px;
  object-fit: cover;
}

@media (max-width: 560px){
  .card img{ height: 240px; }
}

/* Video play badge */
.card.is-video .play-badge{
  position:absolute;
  inset:auto 14px 14px auto;
  width:46px;
  height:46px;
  border-radius: 999px;
  background: rgba(0,0,0,.55);
  border: 1px solid rgba(255,255,255,.18);
  display:grid;
  place-items:center;
  backdrop-filter: blur(8px);
}
.card.is-video .play-triangle{
  width:0;
  height:0;
  border-left: 14px solid rgba(233,238,252,.9);
  border-top: 9px solid transparent;
  border-bottom: 9px solid transparent;
  margin-left: 3px;
}

/* ===========================
   10) LIGHTBOX
=========================== */
.lightbox{
  position: fixed;
  inset: 0;
  display:none;
  align-items: center;
  justify-content: center;
  z-index: 1500;
  background: rgba(0,0,0,.82);
  backdrop-filter: blur(8px);
  padding: 1rem;
}

/* supports both JS patterns */
.lightbox.show,
.lightbox.active{
  display:flex !important;
}

/* viewer container */
.viewer{
  margin:0;
  position:relative;
  display:flex;
  align-items:center;
  justify-content:center;
}

/* Media sizing fix: never overflow viewport */
#lightboxImg,
#lightboxVideo{
  max-width: 92vw;
  max-height: 92vh;
  width: auto;
  height: auto;
  object-fit: contain;
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,.14);
  box-shadow: 0 22px 90px rgba(0,0,0,.65);
  background: black;
}

.caption{
  margin-top: .65rem;
  text-align:center;
  color: rgba(233,238,252,.86);
  background: rgba(10,14,24,.45);
  border: 1px solid rgba(255,255,255,.12);
  padding: .5rem .75rem;
  border-radius: 999px;
  backdrop-filter: blur(10px);
  font-size: .92rem;
}

/* Close + arrows */
.close,
.nav{
  position: fixed;
  width: 44px;
  height: 44px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.16);
  background: rgba(10,14,24,.45);
  color: rgba(233,238,252,.95);
  cursor:pointer;
  backdrop-filter: blur(10px);
}

.close{ top: 18px; right: 18px; font-size: 22px; line-height: 1; }
.nav.prev{ left: 18px; top: 50%; transform: translateY(-50%); }
.nav.next{ right: 18px; top: 50%; transform: translateY(-50%); }

.close:hover,
.nav:hover{
  border-color: rgba(42,167,255,.35);
}

/* ===========================
   11) PIN GATE
=========================== */
.pin-gate{
  position:fixed;
  inset:0;
  z-index:2000;
  display:flex;
  align-items:center;
  justify-content:center;
  padding: 1rem;
}

.pin-backdrop{
  position:absolute;
  inset:0;
  background:
    radial-gradient(1400px 800px at 20% 10%, rgba(42,167,255,.18), transparent 60%),
    radial-gradient(1200px 700px at 80% 30%, rgba(255,45,58,.14), transparent 60%),
    rgba(0,0,0,.82);
  backdrop-filter: blur(8px);
}

.pin-card{
  position:relative;
  z-index:1;
  width:min(460px, 100%);
  padding: 1.2rem 1.2rem 1.1rem;
  border-radius: 22px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(6,8,14,.72);
  box-shadow: 0 30px 120px rgba(0,0,0,.65);
  text-align:center;
}

.pin-badge{
  display:inline-flex;
  align-items:center;
  gap:.55rem;
  padding:.35rem .75rem;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.05);
  font-size:.72rem;
  letter-spacing:.16em;
  opacity:.92;
}

.pin-dot{ width:8px; height:8px; border-radius:50%; }
.pin-dot.blue{ background: var(--blue); box-shadow: 0 0 18px rgba(42,167,255,.55); }
.pin-dot.red{ background: var(--red); box-shadow: 0 0 18px rgba(255,45,58,.45); }

.pin-title{
  margin: .85rem 0 .15rem;
  font-size: 1.55rem;
  font-weight: 950;
}
.pin-sub{
  margin: 0 0 .95rem;
  color: rgba(233,238,252,.75);
}

.pin-form{
  display:flex;
  gap:.6rem;
  justify-content:center;
  align-items:center;
}

.pin-input{
  width: 160px;
  padding: .7rem .8rem;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.14);
  background: rgba(10,14,24,.35);
  color: rgba(233,238,252,.95);
  font-size: 1.05rem;
  letter-spacing: .2em;
  text-align:center;
  outline:none;
}

.pin-input:focus{
  border-color: rgba(42,167,255,.45);
  box-shadow: 0 0 0 4px rgba(42,167,255,.12);
}

.pin-btn{
  padding: .72rem .95rem;
  border-radius: 999px;
  border: none;
  cursor: pointer;
  font-weight: 950;
  color: rgba(233,238,252,.95);
  background: linear-gradient(135deg, rgba(42,167,255,.95), rgba(255,45,58,.85));
}

.pin-msg{
  min-height: 1.25rem;
  margin-top: .75rem;
  color: rgba(255,255,255,.82);
}

/* critical: once hidden, cannot block clicks */
#pinGate.hide{
  display:none !important;
  pointer-events:none !important;
}

/* ===========================
   12) SMALL SCREEN TWEAKS
=========================== */
@media (max-width: 520px){
  .landing-inner{ padding: 1rem 1rem 1.1rem; }
  .landing-sub{ font-size: .95rem; }
  .album-bar{ padding: .8rem; }
  .card img{ height: 240px; }
  .caption{ width: calc(100% - 2rem); }
}

/* =========================================
   ALBUM MENU: FORCE PRETTY BUTTONS ALWAYS
   (works for <button> or <a>)
========================================= */

#albums{
  display:flex;
  flex-wrap:wrap;
  gap:.55rem;
  justify-content:center;
}

/* If app.js created plain buttons/links without class */
#albums button,
#albums a{
  appearance:none;
  -webkit-appearance:none;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.06);
  color: rgba(233,238,252,.92);
  padding: .52rem .82rem;
  border-radius: 999px;
  font-weight: 900;
  cursor:pointer;
  text-decoration:none;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  transition: transform .12s ease, background .12s ease, border-color .12s ease;
}

#albums button:hover,
#albums a:hover{
  transform: translateY(-1px);
  background: rgba(255,255,255,.09);
  border-color: rgba(42,167,255,.25);
}

/* Active state if app.js uses .active on button OR link */
#albums .active{
  border-color: rgba(42,167,255,.38) !important;
  background: linear-gradient(135deg, rgba(42,167,255,.30), rgba(255,45,58,.22)) !important;
}

/* If app.js uses aria-current instead of .active */
#albums [aria-current="page"]{
  border-color: rgba(42,167,255,.38) !important;
  background: linear-gradient(135deg, rgba(42,167,255,.30), rgba(255,45,58,.22)) !important;
}

